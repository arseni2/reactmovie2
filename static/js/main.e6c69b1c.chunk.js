(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},398:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(3),i=n.n(c),s=n(44),a=n.n(s),o=(n(132),n(133),n(29)),l=n(30),u=n(34),j=n(33),h=(n(50),n(51),n.p,n(120)),d=n.n(h),p=(n(134),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(d.a,{slidesPerPage:3,animationSpeed:125,offset:-40,children:this.props.movie.map((function(e,t){return Object(r.jsx)("img",{style:{cursor:"grab",userSelect:"none",marginTop:"65px"},height:"450px",src:e.url},t)}))})})}}]),n}(c.Component)),m=n(36),b=n(46),x=n(24);n(121);var g=function(e){return Object(r.jsx)("section",{className:"movielist",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)(p,{movie:Array.from(e.movie)||Array.from(e.movie.results),isFetching:e.isFetching}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Array.from(e.movie).map((function(e,t){return Object(r.jsx)("div",{style:{marginLeft:"0px"},className:"ml-5",children:Object(r.jsx)(m.b,{to:"movie/".concat(e.id),children:Object(r.jsx)("div",{className:"row d-flex position-relative listMovie",style:{marginRight:"0"},children:Object(r.jsx)("div",{className:"col justify-content-center ",children:Object(r.jsxs)("div",{className:"container1",children:[Object(r.jsx)("img",{src:e.url,alt:"Avatar",width:"300px",height:"400px",className:"image",style:{marginTop:"10px",marginLeft:"10px",zIndex:1e18}}),Object(r.jsxs)("div",{className:"middle",children:[Object(r.jsx)("div",{className:"text",children:" "}),Object(r.jsx)(x.a,{className:"iconPlay",icon:b.a})]})]})})})})})})),e.movie.results?Array.from(e.movie.results).map((function(e,t){return console.log(e.title),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{style:{marginLeft:"0px"},className:"ml-5",children:Object(r.jsx)(m.b,{to:"movie/".concat(e.id),children:Object(r.jsx)("div",{className:"row d-flex position-relative listMovie",style:{marginRight:"0"},children:Object(r.jsx)("div",{className:"col justify-content-center ",children:Object(r.jsxs)("div",{className:"container1",children:[Object(r.jsx)("img",{src:e.url,alt:"Avatar",width:"300px",height:"400px",className:"image",style:{marginTop:"10px",marginLeft:"10px",zIndex:1e18,marginBottom:"20%"}}),Object(r.jsxs)("div",{className:"middle",children:[Object(r.jsx)("div",{className:"text",children:" "}),Object(r.jsx)(x.a,{className:"iconPlay",icon:b.a})]})]})})})})})})})):console.log("search not"),0==e.movie.count&&Object(r.jsx)("strong",{style:{marginBottom:"64.2%",marginLeft:"20%"},children:"\u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})})})},v=n(32),O=n(9),f=n.n(O),w=n(25),y=n(8),N=n(47),F=N.create({withCredentials:!0,baseURL:"http://localhost:8000/api-auth/",headers:{}});String.prototype.replaceAt=function(e,t){return this.substr(0,e)+t+this.substr(e+t.length)};var M=function(){return F.get("movie").then((function(e){return e.data}))},k=function(){return F.get("genres").then((function(e){return e.data}))},R=function(e){return F.get("movie/".concat(e)).then((function(e){return e.data}))},T=function(e){return F.get("rating/get/".concat(e)).then((function(e){return e.data}))},C=function(e,t){return N({method:"POST",url:"http://localhost:8000/api-auth/rating",headers:{"Content-Type":"application/json"},data:{star:e,movie:t}}).then((function(e){return e.data}))},_=function(e){return F.get("m?search=".concat(e)).then((function(e){return e.data}))},I=function(e){var t=Object.values(e);if(console.log(t),window.url="moviefilter?",t.length){"".concat(e[Object.keys(e)[0]]);window.url+="".concat(e[Object.keys(e)[0]]).substring(1),console.log(e[Object.keys(e)[0]])}for(var n in e)window.url+=e[n];var r=window.url;return console.log(r),F.get("".concat(r)).then((function(e){return e.data}))},P=function(e,t,n){return N({method:"POST",url:"http://localhost:8000/api-auth/reviews",headers:{"Content-Type":"application/json"},data:{text:String(e),movie:Number(t),name:String(n)}}).then((function(e){return e.data}))},E=function(e){return F.get("reviews/".concat(e)).then((function(e){return e.data}))},S={text:null,movie:[],currentMovie:[],isFetching:!0,genres:[],rating:[],reviews:[],genresCheck:[],movieId:null,nameReviews:"",textReviews:"",star:0},L="LOAD_MOVIE",A="LOAD_CURRENT_MOVIE",D="TOGGLE_FETCHING",G="GENRES",B="RATING",U="TEXT",H="CHECKBOX",z="REVIEWS",V="NAME",X="TEXTREVIEWS",J="CLEARFIELDS",W="SETSTAR",q="SETMOVIEID",K=function(e){return{type:L,movie:e}},$=function(e){return{type:D,isFething:e}},Q=function(e){return{type:B,rating:e}},Y=function(e){return{type:z,reviews:e}},Z=function(e){return{type:W,star:e}},ee=function(){return function(){var e=Object(w.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M().then((function(e){t(K(e)),t($(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},te=function(){return function(){var e=Object(w.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k().then((function(e){t({type:G,genres:e}),t($(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(y.a)(Object(y.a)({},e),{},{movie:t.movie});case W:return Object(y.a)(Object(y.a)({},e),{},{star:t.star});case z:return Object(y.a)(Object(y.a)({},e),{},{reviews:t.reviews});case D:return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFething});case G:return Object(y.a)(Object(y.a)({},e),{},{genres:t.genres});case A:return Object(y.a)(Object(y.a)({},e),{},{currentMovie:t.currentMovie});case B:return Object(y.a)(Object(y.a)({},e),{},{rating:t.rating});case q:return Object(y.a)(Object(y.a)({},e),{},{movieId:t.movieId});case X:return Object(y.a)(Object(y.a)({},e),{},{textReviews:t.text});case U:return Object(y.a)(Object(y.a)({},e),{},{text:t.text});case V:return Object(y.a)(Object(y.a)({},e),{},{nameReviews:t.name});case J:return Object(y.a)(Object(y.a)({},e),{},{nameReviews:"",textReviews:""});case H:return Object(y.a)(Object(y.a)({},e),{},{genresCheck:t.check});default:return e}},re=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getMovie()}},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:this.props.isFetching?Object(r.jsx)("p",{children:"loading..."}):Object(r.jsx)(g,{movie:this.props.movie,isFetching:this.props.isFetching,currentMovie:this.props.currentMovie,text:this.props.text})})}}]),n}(i.a.Component),ce=Object(v.b)((function(e){return{movie:e.homePage.movie,currentMovie:e.homePage.currentMovie,isFetching:e.homePage.isFetching,text:e.homePage.text}}),{getMovie:ee})(re),ie=n(27);var se=function(){return Object(r.jsxs)("footer",{className:"col-12 d-flex mw-100 position-sticky",style:{marginLeft:"0px",marginTop:"29%",height:"300px",marginRight:"0px",background:"#A99BFF"},children:[Object(r.jsxs)("div",{className:"container-fluid",children:[Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"form col-12",children:Object(r.jsx)("form",{children:Object(r.jsxs)("div",{className:"form-row  ",children:[Object(r.jsx)("div",{className:"col-sm col-md col-lg d-flex form__item",children:Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"First name"})}),Object(r.jsx)("div",{className:"w-100",children:" "}),Object(r.jsx)("div",{className:"col-sm col-md col-lg d-flex form__item",children:Object(r.jsx)("input",{style:{width:"100%"},type:"text",className:"form-control",placeholder:"Last name"})}),Object(r.jsx)("div",{className:"w-100",children:" "}),Object(r.jsx)("div",{className:"col-sm col-md col-lg d-flex form__item",children:Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Email",required:!0})}),Object(r.jsx)("div",{className:"w-100",children:" "}),Object(r.jsx)("div",{className:"col-lg-12",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-primary col-lg form__item",children:"send mail"})})]})})})}),Object(r.jsxs)("div",{className:"icons col-lg",children:[Object(r.jsx)("a",{href:"#",children:Object(r.jsx)(x.a,{icon:ie.c})}),Object(r.jsx)("a",{href:"#",children:Object(r.jsx)(x.a,{icon:ie.a})}),Object(r.jsx)("a",{href:"#",children:Object(r.jsx)(x.a,{icon:ie.b})}),Object(r.jsx)("a",{href:"#",children:Object(r.jsx)(x.a,{icon:ie.d})})]})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{})]})},ae=n(63);n(389);var oe=function(e){var t={};return Object(r.jsx)("header",{className:"header ",id:"header",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"indexz",children:Object(r.jsxs)("div",{className:"hamburger-menu",children:[Object(r.jsx)("input",{id:"menu__toggle",type:"checkbox"}),Object(r.jsx)("label",{className:"menu__btn",htmlFor:"menu__toggle",children:Object(r.jsx)("span",{children:" "})}),Object(r.jsx)("ul",{className:"menu__box",children:!1===e.isFetching?e.genres.map((function(n,c){return Object(r.jsx)("li",{style:{marginTop:"10px"},children:Object(r.jsxs)("p",{style:{marginTop:"60px"},className:"menu__item",children:[Object(r.jsx)("input",{onClick:function(r){r.target.checked?(Object.assign(t,Object(ae.a)({},n.name,r.target.value)),e.check(t),e.FilterMovie(t)):delete t[n.name]},type:"checkbox",name:"",className:"menu__item",value:"&genres=".concat(n.id)}),n.name]})},c)})):console.log("bad")})]})}),Object(r.jsx)("div",{className:"nav col-lg-5 ml-auto ",children:Object(r.jsx)("nav",{children:Object(r.jsx)("ul",{className:"nav__items d-flex justify-content-center ",children:Object(r.jsxs)("div",{className:"divse col-lg-12 col-sm-12",children:[Object(r.jsx)("input",{type:"text",className:"textbox",placeholder:"Search",value:e.text,onChange:function(t){e.SearchText(t.target.value)}}),Object(r.jsx)("button",{type:"submit",style:{fontSize:"19px",marginTop:"0px"},className:"button",onClick:function(){e.searchMovie(e.text)},children:Object(r.jsx)(x.a,{icon:b.b})})]})})})})]})})})},le=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getGenres(),this.forceUpdateHandler=this.forceUpdateHandler.bind(this)}},{key:"forceUpdateHandler",value:function(){this.forceUpdate()}},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:this.props.isFetching?Object(r.jsx)("p",{children:"loading..."}):Object(r.jsx)(oe,{genres:this.props.genres,isFetching:this.props.isFetching,SearchText:this.props.SearchText,text:this.props.text,searchMovie:this.props.searchMovie,check:this.props.Check,FilterMovie:this.props.FilterMovie,forceUpdateHandler:this.forceUpdateHandler,getMovie:this.props.getMovie})})}}]),n}(i.a.Component),ue=Object(v.b)((function(e){return{genres:e.homePage.genres,isFetching:e.homePage.isFetching,text:e.homePage.text}}),{getGenres:te,SearchText:function(e){return{type:U,text:e}},searchMovie:function(e){return function(){var t=Object(w.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e).then((function(e){n(K(e)),n($(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Check:function(e){return{type:H,check:e}},FilterMovie:function(e){return function(){var t=Object(w.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e).then((function(e){n(K(e)),n($(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getMovie:ee})(le),je=(n(390),n(126));var he=function(e){return console.log(e.isFetching),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{style:{width:"225px"},name:"name",type:"text",placeholder:"name",onChange:function(e){window.name12=e.target.value,console.log(e.target.value)}})," ",Object(r.jsx)("br",{}),Object(r.jsx)("textarea",{className:"textarea",cols:"29",name:"text",placeholder:"text",onChange:function(e){window.text=e.target.value,console.log(e.target.value)}})," ",Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:function(t){var n,r;n=window.text,r=window.name12,e.setReviews(n,e.pk,r)},style:{marginLeft:"230px"},disabled:e.isFetching,type:"submit",children:"Submit"})]})},de=function(e){console.log(" rerender MovieDetail");console.log(e);var t=e.star;return i.a.useEffect((function(){e.MovieId(e.currentMovie.id)})),e.currentMovie.actors?e.currentMovie.reviews?(console.log(e.currentMovie.reviews),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{style:{marginTop:"70px"},children:" "}),Object(r.jsx)("img",{style:{paddingLeft:"30px",paddingTop:"20px"},width:"430px",height:"500px",src:e.currentMovie.url}),Object(r.jsxs)("div",{className:"cont",children:[Object(r.jsx)("strong",{children:"title: "}),Object(r.jsx)("p",{children:e.currentMovie.title}),Object(r.jsx)("br",{}),Object(r.jsx)("strong",{children:"description: "}),Object(r.jsx)("p",{children:e.currentMovie.description}),Object(r.jsx)("br",{}),Object(r.jsx)("strong",{children:"rating: "}),Object(r.jsx)("p",{children:[1,2,3,4,5].map((function(n,c){var i=c+1;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"radio",name:"rating",onClick:function(){console.log(Number(i)),e.setRating(Number(i),e.movieId)}}),Object(r.jsx)(je.a,{className:"star",color:i<Number(t)+1?"#eac424":"grey",size:20})]})})}))}),Object(r.jsx)("strong",{children:"year: "}),Object(r.jsx)("p",{children:e.currentMovie.year}),Object(r.jsx)("strong",{children:"\u0431\u044e\u0434\u0436\u0435\u0442: "}),Object(r.jsxs)("p",{children:[e.currentMovie.budget,"$"]}),Object(r.jsx)("strong",{children:"category: "}),Object(r.jsx)("p",{children:e.currentMovie.category})]}),Object(r.jsxs)("div",{style:{paddingLeft:"30px"},children:[Object(r.jsx)("h1",{children:"actors and directors"}),0==e.isFetching?e.currentMovie.actors.map((function(e,t){var n;return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{width:"200px",height:"200px",style:{borderRadius:"50%"},src:e.image},t),Object(r.jsx)("p",{children:e.name},t)]},null!==(n=t+1)&&void 0!==n?n:1)})):Object(r.jsx)("div",{children:"loading..."})]}),Object(r.jsx)("h1",{children:"Reviews"}),Object(r.jsx)(he,{isFetching:e.isFetching,setReviews:e.setReviews,pk:e.pk}),0==e.isFetching?Array.from(e.reviews).map((function(t,n){return Object(r.jsxs)("div",{children:[console.log(e.reviews[0]),Object(r.jsx)("div",{className:"actionBox",children:Object(r.jsx)("ul",{className:"commentList",children:Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{className:"commenterImage",children:Object(r.jsx)("img",{className:"avtar",width:"50px",height:"50px",src:"https://www.elmechtechnology.com/sites/all/themes/aganhost/demos/no-avatar.jpg"})}),Object(r.jsxs)("div",{className:"commentText",children:[Object(r.jsx)("strong",{children:t.name})," ",Object(r.jsx)("p",{className:"",style:{wordBreak:"break-all"},children:t.text})]})]})})})]},n)})):Object(r.jsx)("div",{children:"loading..."}),Object(r.jsx)(se,{})]})):e.currentMovie.reviews=[]:e.currentMovie.actors=[]},pe=n(11),me=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getCurrentMovie(this.props.match.params.pk),this.props.getRating(this.props.match.params.pk),this.props.getGenres(),this.props.getReviews(this.props.match.params.pk)}},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:0==this.props.isFetching?Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(oe,{genres:this.props.genres,isFetching:this.props.isFetching}),Object(r.jsx)(de,{movie:this.props.movie,isFetching:this.props.isFetching,currentMovie:this.props.currentMovie,getRating:this.props.getRating,rating:this.props.rating,setReviews:this.props.setReviews,getReviews:this.props.getReviews,reviews:this.props.reviews,pk:this.props.match.params.pk,Name:this.props.Name,Text:this.props.Text,nameReviews:this.props.nameReviews,textReviews:this.props.textReviews,ClearFields:this.props.ClearFields,setRating:this.props.setRating,star:this.props.star,MovieId:this.props.MovieId,movieId:this.props.movieId})]}):Object(r.jsx)("div",{children:"loading..."})})}}]),n}(i.a.Component),be=Object(pe.f)(Object(v.b)((function(e){return{movie:e.homePage.movie,currentMovie:e.homePage.currentMovie,isFetching:e.homePage.isFetching,genres:e.homePage.genres,rating:e.homePage.rating,reviews:e.homePage.reviews,nameReviews:e.homePage.name,textReviews:e.homePage.text,star:e.homePage.star,movieId:e.homePage.movieId}}),{getCurrentMovie:function(e){return function(){var t=Object(w.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e).then((function(e){n({type:A,currentMovie:e})}));case 2:return t.next=4,T(e).then((function(e){n(Q(e)),n(Z(e)),n($(!1))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},MovieId:function(e){return{type:q,movieId:e}},getGenres:te,getRating:function(e){return function(){var t=Object(w.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e).then((function(e){n(Z(e)),n(Q(e)),n($(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getReviews:function(e){return function(){var t=Object(w.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e).then((function(e){n(Y(e)),n($(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Reviews:Y,setReviews:function(e,t,n){return function(){var r=Object(w.a)(f.a.mark((function r(c){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P(e,t,n).then((function(e){c(Y(e)),c($(!1))}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Name:function(e){return{type:V,name:e}},Text:function(e){return{type:X,text:e}},ClearFields:function(){return{type:J}},setRating:function(e,t){return function(){var n=Object(w.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C(e,t).then((function(e){r(Q(e)),r(Z(e)),r($(!1))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(me));var xe=function(){return Object(r.jsx)("div",{className:"animate__animated animate__fadeIn",children:Object(r.jsxs)(pe.c,{children:[Object(r.jsx)(pe.a,{exact:!0,path:"/movie/:pk?",component:be}),Object(r.jsx)(pe.a,{exact:!0,path:"/",render:function(){return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(ue,{}),Object(r.jsx)(ce,{}),Object(r.jsx)(se,{})]})}})]})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,401)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))},ve=n(40),Oe=n(123),fe=n(400),we=Object(ve.c)({homePage:ne,form:fe.a}),ye=Object(ve.d)(we,Object(ve.a)(Oe.a));window.store=ye;var Ne=ye;a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(m.a,{children:Object(r.jsx)(v.a,{store:Ne,children:Object(r.jsx)(xe,{})})})}),document.getElementById("root")),ge()},51:function(e,t,n){}},[[398,1,2]]]);
//# sourceMappingURL=main.e6c69b1c.chunk.js.map